<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Start/Join Call - Festive Friends</title>

  <!-- Favicon -->
  <link rel="apple-touch-icon" sizes="180x180" href="./assets/favicons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="./assets/favicons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="./assets/favicons/favicon-16x16.png">
  <link rel="manifest" href="./assets/favicons/site.webmanifest">

  <!-- Bootstrap CSS -->
  <link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
  rel="stylesheet"
  integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
  crossorigin="anonymous"/>

  <link
  rel="stylesheet"
  href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
  integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
  crossorigin="anonymous" />
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" />
  
  <!-- CSS stylesheets -->
  <link href="assets/css/call.css" rel="stylesheet" />
  
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap"
    rel="stylesheet" />

  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
  
  <!-- Styles -->
  <style>
    #screenShare {
      /* margin-top: 20px; */
      width: 80%;
    }

    audio {
      display: none;
    }
  </style>

  <!-- JS Scripts -->
  <script src="https://code.jquery.com/jquery-3.6.2.min.js"
    integrity="sha256-2krYZKh//PcchRtd+H+VyyQoZ/e3EcrkxhM8ycwASPA=" crossorigin="anonymous"></script>

  <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
    integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
    crossorigin="anonymous"></script>

  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
    integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
    crossorigin="anonymous"></script>
  
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
    integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
    crossorigin="anonymous"></script>

  <script src="./assets/js/jquery.js"></script>

</head>

<body>
  
  <!-- Code from VideoSDK's Official documentation -->
  
  <!--call-home-page start-->

  <div id="home-page" class="home-page">

    <!-- Nav Bar -->

    <div class="container-fluid navbar-container">
  
      <nav class="navbar navbar-expand-lg navbar-dark">
        <a id="brand" class="navbar-brand" href="index.html">FestiveFriends</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarTogglerDemo01" aria-controls="navbarTogglerDemo01" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarTogglerDemo01">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link" href="index.html">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link  link-active" href="start-call.html">Start/Join Call</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="feedback.html">Feedback</a>
            </li>
          </ul>
        </div>
      </nav>

    </div>

    <!-- Main -->

    <main id="callpage_main">

      <div class="container-fluid" id="button-container">

        <div class="container-fluid col-auto" id="create-meeting">
          <center>
            <button class="btn btn-lg btn-outline-light call-btn" style="border-radius: 5px" id="meetingJoinButton"
              onclick="joinMeeting(true)">
              Create Meeting
            </button>
        </div>

        <div class="flex-container" id="hr-or">
        </center>
        <br />
        <hr style="background-color: grey; width: 300px" />
        <center style="color: grey">OR</center>
        </center>
      </div>
      <div class="flex-container" style="margin-top: 25px">
        <center>
          <div class="col-auto" id="enter-code-join-meeting">
            <div class="input-group mb-3">
              <div class="input-group-prepend">
                <div class="input-group-text" style="
                      background-color: #3a1509;
                      padding: 12px;
                      margin-top: -15px;
                    ">
                  <img src="assets/images/icons/svg-path.svg" height="25px" width="25px" />
                </div>
              </div>
              <input type="text" class="form-control" id="joinMeetingId" placeholder="Enter Meeting Code" />
              <div class="input-group-append">
                <button class="btn btn-outline-light call-btn" style="
                      border-radius: 5px;
                      margin-left: 7px;
                      margin-top: -5px;
                      height: 50px;
                      height: 40px;
                    " id="meetingJoinButton" onclick="validateMeeting()">
                  Join Meeting
                </button>
              </div>
            </div>
          </div>
          <div>
            <p id="want-to-join" class="text-white">Want to join an existing meeting? Use one of the below codes!</p>
          </div>
          <div>
            <ul id="meetingList"></ul>
          </div>
        </center>
      </div>



      </div>



    </main>

    <!-- Footer -->

    <footer>
      <div class="container-fluid footer-container">
        <p class="copyright">Â© Copyright 2022 FestiveFriends</p>
      </div>
    </footer>

  </div>

  <!--join page container start-->
  <div id="joinPage" class="main-bg" style="display: none; margin-left: -15px">
    <div style="margin: auto; display: flex">
      <!--join screen left grid start-->
      <div class="join-left" style="
            /* border: 1px solid black; */
            width: 650px;
            height: 350px;
            margin-right: 30px;
            margin-left: -160px;
            position: relative;
          ">
        <div class="video-view">
          <video class="video" id="joinCam" style="
                position: absolute;
                width: 100%;
                height: 100%;
                border-radius: 10px;
                transform: rotate('90');
                object-fit: cover;
                box-shadow: 0 10px 20px rgba(0, 0, 0, 0.19),
                  0 6px 6px rgba(0, 0, 0, 0.23);
              "></video>

          <div class="input-group mb-3 video-content">
            <button style="border-radius: 20px; height: 50px; width: 50px" id="camButton" onclick="toggleWebCam()">
              <i class="bi bi-camera-video-fill" style="color: black; font-size: 21px" id="onCamera"></i>
              <i class="bi bi-camera-video-off-fill" style="color: black; font-size: 21px; display: none"
                id="offCamera"></i>
            </button>

            <button style="
                  border-radius: 20px;
                  height: 50px;
                  width: 50px;
                  margin-left: 5px;
                " id="micButton" onclick="toggleMic()">
              <i class="bi bi-mic-mute-fill" style="color: black; font-size: 21px; display: inline-block"
                id="muteMic"></i>
              <i class="bi bi-mic-fill" style="color: black; font-size: 21px; display: none" id="unmuteMic"></i>
            </button>
          </div>
        </div>
      </div>

      <!--join screen right grid start-->
      <div class="join-right" style="width: 350px">
        <h1 style="text-align:center; color:aliceblue;">JOIN PAGE</h1>
        <div>
          <div class="class-control row" style="margin-top: 120px">
            <div class="col-1">
              <img src="assets/images/icons/svg-path.svg" height="25px" width="25px" />
            </div>
            <div class="col-8">
              <input type="text" id="joinMeetingName" placeholder="Name Of Participant" class="form-control" />
            </div>
            <div class="col-2" style="margin-top: -5px">
              <button id="meetingJoinButton" onclick="joinMeeting()"
                style="margin-left: 50px; width: 130px; border-radius: 5px" class="btn btn-outline-light call-btn">
                Join Meeting
              </button>
            </div>
          </div>
        </div>
      </div>
      <!--join screen right grid end-->
    </div>
  </div>

  <!-- You can also require other files to run in this process -->
  <!-- <script src="./renderer.js"></script> -->
  <!-- <script src="./zujo-sdk-2.0.0.min.js"></script> -->

  <div class="grid-page flex-container" id="gridPpage" style="display: none; position: relative">
    <div class="row" style="height: 70px; width: 100%;">
      <div class="col-3 d-flex justify-content-start" style="margin-top: 25px">
        <input type="text" style="background-color:#3a1509" class="form-control navbar-brand" id="meetingid" readonly />

        <button id="btnCopy" type="button" class="btn btn-outline-light" style="height: fit-content; position: relative"
          onclick="copyMeetingCode()">
          <span class="material-icons"> content_copy </span>
          <div class="copyContent">Copy Meeting Code</div>
        </button>
    
        <button id="btnAllow" type="button" class="btn btn-outline-light ml-2 text-nowrap" onclick="">
          <span>Make Public</span>
          <div class="copyContent">Make a friend!</div>

        </button>
   
        
      </div>
      

      <div class="col-9" style="margin-top: 13px; position: static; align-content: right">
        <div class="d-flex justify-content-end">
          <button type="button" id="btnStartRecording" class="btn btn-outline-light">
            <span class="material-icons"> radio_button_checked </span>
          </button>
          <button type="button" style="display: none" id="btnStopRecording" class="btn btn-light">
            <span class="material-icons"> radio_button_checked </span>
          </button>
          <button type="button" id="btnRaiseHand" class="btn btn-outline-light ms-1">
            <span class="material-icons"> front_hand </span>
          </button>
          <span class="vertical-line"></span>

          <!-- main page toggle mic-->
          <div class="btn-group" id="main-pg-mute-mic" style="display: inline-block">
            <button type="button" class="btn btn-outline-light dropdown-toggle ms-1" aria-haspopup="true"
              aria-expanded="false">
              <span class="material-icons"> mic_off </span>
            </button>
          </div>
          <div class="btn-group" id="main-pg-unmute-mic" style="display: none">
            <button type="button" class="btn btn-outline-light dropdown-toggle ms-1" aria-haspopup="true"
              aria-expanded="false">
              <span class="material-icons"> mic </span>
            </button>

          </div>
          <!--main page toggle web-cam-->
          <div class="btn-group" id="main-pg-cam-off" style="display: inline-block">
            <button type="button" class="btn btn-outline-light dropdown-toggle ms-1" aria-haspopup="true"
              aria-expanded="false">
              <span class="material-icons"> videocam_off</span>
            </button>
          </div>
          <div class="btn-group" id="main-pg-cam-on" style="display: none">
            <button type="button" class="btn btn-outline-light dropdown-toggle ms-1" aria-haspopup="true"
              aria-expanded="false" id="videoCamOn">
              <span class="material-icons"> videocam </span>
            </button>

          </div>
          <!--screen share-->
          <button type="button" id="btnScreenShare" class="btn btn-outline-light ms-1">
            <span class="material-icons"> screen_share </span>
          </button>
          <span class="vertical-line"></span>
          <!--participants-->
          <button type="button" class="btn btn-outline-light ms-1" onclick="openParticipantWrapper()">
            <span class="material-icons"> people </span>
          </button>
          <!--chat-->
          <button type="button" class="btn btn-outline-light ms-1" onclick="openChatWrapper()">
            <span class="material-icons"> chat </span>
          </button>
          <span class="vertical-line"></span>
          <!--call end-->
          <div class="btn-group">
            <button type="button" class="btn btn-danger dropdown-toggle ms-1" data-toggle="dropdown"
              aria-haspopup="true" aria-expanded="false">
              <span class="material-icons"> call_end </span>
            </button>
            <div class="dropdown-menu" style="
                  background-color: #212032;
                  color: white;
                  margin-left: -80px;
                ">
              <a class="dropdown-item" id="endCall">End Call</a>
              <a class="dropdown-item" id="leaveCall">Leave Meeting</a>
            </div>
          </div>
        </div>
      </div>
    </div>
    </button> -->

    <video id="videoScreenShare"></video>

    <div class="row" id="videoContainer"></div>
  </div>
  

  <!--raise hand pop-up-->
  <div id="contentRaiseHand" class="alert alert-info col-2" style="
        left: 10;
        bottom: 0;
        position: absolute;
        height: 60px;
        display: none;
      " role="alert"></div>



  <!--participant wrapper-->
  <div class="participant-wrapper" id="participants">
    <div class="participant-wrapper-header text-light">
      <span class="closebtn" id="ParticipantsCloseBtn" onclick="closeParticipantWrapper()">&times;</span>
      <h5 id="totalParticipants"></h5>
    </div>
    <hr class="border-light rounded 3" />
    <div id="participantsList" class="participant-wrapper-content text-light"></div>
  </div>

  <!--chat wrapper-->
  <div class="chat-wrapper" id="chatModule">
    <div class="chat-wrapper-header text-light">
      <span class="closebtn" id="chatCloseBtn" onclick="closeChatWrapper()">&times;</span>
      <h5 id="chatHeading">Let's Chat!</h5>
    </div>
    <hr class="border-light rounded 3" />
    <div id="chatArea" class="chat-wrapper-content text-light" style="overflow-y: scroll"></div>
    <div class="message-box input-group mb-2">
      <input type="text" id="txtChat"="form-control" placeholder="Message..." />
      <div id="btnSend" class="input-group-append">
        <button class="btn btn-primary">Send</button>
      </div>
    </div>
  </div>

  <script src="assets/js/start.js"></script>
  <script src="https://sdk.videosdk.live/js-sdk/0.0.54/videosdk.js"></script>
  <script src="assets/js/config.js"></script>
  <script src="assets/js/join.js"></script>
  <script src="https://kit.fontawesome.com/a332586675.js" crossorigin="anonymous"></script>

</body>
<div id="viewer"></div>

</html>